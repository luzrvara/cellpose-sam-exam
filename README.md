# Cellpose SAM Project - Cell Classification and Measurement

## Description
This project implements a pipeline to segment and classify cells in image sequences using Cellpose v4 SAM. The pipeline detects cells, classifies them into four categories, and calculates per-frame statistics including cell count, average area, and average brightness.

## Included Files
- `cellpose_exam_pipeline.py`: Main script for segmentation, classification, and output generation.
- `requirements.txt`: Python dependencies required to run the pipeline.
- `output/`: Folder containing results (AVI videos and CSV summary file). **Uploaded to Google Drive** for sharing.
- `data/`: Folder with original `.jpg` images(taken from https://www.linkedin.com/safety/go?url=https%3A%2F%2Fdrive.google.com%2Fdrive%2Ffolders%2F1c_z4sxvGo1t0ShkVSuIGp_xReuzzNN8U%3Fusp%3Dsharing&trk=flagship-messaging-web&messageThreadUrn=urn%3Ali%3AmessagingThread%3A2-NDFhMTc0NGQtY2Y0MC00NmZlLWI0YTgtYWVkYjIwZWIyNjZmXzEwMA%3D%3D&lipi=urn%3Ali%3Apage%3Ad_flagship3_messaging_conversation_detail%3BnV3dS6RdS5y4%2BqAKQ8npEw%3D%3D) .

## Pipeline Output
The following files are generated by the script:
- **AVI videos**:
  - `masks_colored.avi`: Segmentation masks with color-coded categories.
  - `overlay.avi`: Original images overlaid with segmentation masks.
  - One video for each class:
    - `Circular_viva.avi` (Green)
    - `Fija.avi` (Yellow)
    - `Circular_muerta.avi` (Red)
    - `Fragmento.avi` (Magenta)
- **CSV Summary**:
  - `mediciones_por_frame.csv`: Per-frame statistics (cell count, average area, and brightness for each class).

## Classes
The cells are classified into four categories:
1. **Circular_viva (Live circular cells)** - initial frames
2. **Fija (Fixed cells)** - middle frames
3. **Circular_muerta (Dead circular cells)** - late frames
4. **Fragmento (Fragments)** - small debris or abnormal cells

## Usage
1. Place your `.jpg` image sequence inside the local `data/` folder.
2. Run the script:
   ```bash
   python cellpose_exam_pipeline.py
   ```
3. The results will be saved in the `output/` folder.

## Results on Google Drive
You can find the generated videos and CSV summary here:  
https://drive.google.com/drive/folders/1i8w17uhnUv0pBY_HZ32-bCUXai5-dcO-?usp=share_link

## Installation of dependencies
Install the required Python packages with:

```bash
pip install -r requirements.txt
```

## Contact
Luz Guevara  
gluzrvara@gmail.com

# cellpose-sam-exam
